<ion-header>
  <ion-toolbar>
    <ion-item lines="none" class="ion-no-padding">
      <ion-buttons>
        <ion-button (click)="close()">
          <ion-icon name="close"></ion-icon>
        </ion-button>
      </ion-buttons>

      <ion-title>Comments</ion-title>
    </ion-item>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item lines="none" class="ion-no-padding ion-margin-start" *ngFor="let item of _comments; let i = index">
    <ion-avatar>
      <img [src]="item.user?.profile_image" onerror="this.onerror=null;this.src='/assets/Images/dummy-avatar.png';" />
    </ion-avatar>

    <ion-label class="ion-margin-start">
      <h2>{{ item.user?.name }}</h2>
      <p>{{ item.comment }}</p>
      <span>{{ item.created_at | date : "short" }}</span>
      <div class="dot-icon" (click)="showSubItem(i)">
        <ion-buttons slot="end">
          <ion-button (click)="openPopup(item,$event)">
            <ion-icon id="click-trigger" name="ellipsis-vertical"></ion-icon>
          </ion-button>
        </ion-buttons>
      </div>
      <!-- <div class="pop-over" *ngIf="visibleIndex === i">
      <span>Report post</span><br>
      <span>Delete post</span>
    </div> -->
      <!-- <ion-list class="pop-over" *ngIf="visibleIndex === i">
        <ion-item (click)="openreport(item)"> Report post </ion-item>
        <ion-item> Delete Post </ion-item>
      </ion-list> -->
    </ion-label>
  </ion-item>
</ion-content>

<ion-footer>
  <ion-item class="ion-margin-top" style="
  --background: #f6f6f6 !important;
  border-top: 1px solid #ddd;
  --padding-top: 5px !important;
  --padding-bottom: 5px;
  --border-color: transparent;">
    <ion-input placeholder="Write a comment..." [(ngModel)]="comment"></ion-input>
    <ion-icon name="paper-plane-outline" slot="end" (click)="addComment()"></ion-icon>
  </ion-item>
</ion-footer>